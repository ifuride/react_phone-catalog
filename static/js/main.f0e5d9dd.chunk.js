(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(46).concat([function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(29),n=c.n(s),a=c(5),r=c(1),i=c.n(r),o=c(3),l=c(9),u=c.n(l),d=c(4),j=c(30),b=c.n(j),p=function(e){switch(e){case"/phones":case"/tablets":case"/accessories":case"/favourites":return"Search in ".concat(e.slice(1));default:return"Search"}};function m(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(d.a)(e,2),s=t[0],n=t[1];null===n?c.delete(s):Array.isArray(n)?(c.delete(s),n.forEach((function(e){c.append(s,e)}))):c.set(s,n)})),c.toString()}c(46);var O,h=c(0),_=function(){var e=Object(o.n)().pathname,t=Object(o.p)(),c=Object(a.d)(),s=Object(d.a)(c,2),n=s[0],i=s[1],l=n.get("query")||"",j=Object(r.useState)(l),O=Object(d.a)(j,2),_=O[0],x=O[1],f=Object(r.useCallback)(b()((function(e,c,s){e?s.set("query",e):s.delete("query"),t({pathname:c,search:s.toString()})}),500),[]);return Object(r.useEffect)((function(){""===l&&""!==_&&x("")}),[l]),Object(h.jsxs)("div",{className:"search",children:[Object(h.jsx)("input",{type:"text",className:"search__input",placeholder:p(e),value:_,onChange:function(t){x(t.target.value),f(t.target.value,e,n)}}),Object(h.jsx)("button",{type:"button",className:u()("search__button",{"search__button--disabled":!l}),onClick:function(){x(""),i(m(n,{query:null}))},"data-cy":"searchDelete",children:l?Object(h.jsx)("img",{src:"icons/closeButton.svg",alt:"search button"}):Object(h.jsx)("img",{src:"icons/magnifier.svg",alt:"close button"})})]})},x=c(7),f=function(e,t){var c=Object(r.useState)((function(){try{var c=localStorage.getItem(e);return c?JSON.parse(c):t}catch(s){return t}})),s=Object(d.a)(c,2),n=s[0],a=s[1];return[n,function(t){a(t),localStorage.setItem(e,JSON.stringify(t))}]},v=i.a.createContext({favourites:[],addToFav:function(){},removeFromFav:function(){}}),g=function(e){var t=e.children,c=f("favourites",[]),s=Object(d.a)(c,2),n=s[0],a=s[1];return Object(h.jsx)(v.Provider,{value:{favourites:n,addToFav:function(e){a([].concat(Object(x.a)(n),[e]))},removeFromFav:function(e){a(Object(x.a)(n).filter((function(t){return t.id!==e})))}},children:t})},N=c(20);!function(e){e.Add="add",e.Remove="remove"}(O||(O={}));var y=i.a.createContext({cartItems:[],addToCart:function(){},removeFromCart:function(){},changeQuantity:function(){}}),k=function(e){var t=e.children,c=f("cartItems",[]),s=Object(d.a)(c,2),n=s[0],a=s[1];return Object(h.jsx)(y.Provider,{value:{cartItems:n,addToCart:function(e){var t={id:e.id,product:e,quantity:1};a([].concat(Object(x.a)(n),[t]))},removeFromCart:function(e){a(Object(x.a)(n).filter((function(t){return t.id!==e})))},changeQuantity:function(e,t){var c=Object(x.a)(n).map((function(c){if(e===c.id)switch(t){case O.Add:return Object(N.a)(Object(N.a)({},c),{},{quantity:c.quantity+1});case O.Remove:return Object(N.a)(Object(N.a)({},c),{},{quantity:c.quantity-1});default:throw new Error("Unable to change quantity of products.")}return c}));a(c)}},children:t})},w=(c(49),function(e){var t=e.to,c=e.text;return Object(h.jsx)(a.c,{to:t,className:function(e){var t=e.isActive;return u()("page-nav-link",{"page-nav-link--active":t})},children:c})}),C=(c(50),function(){var e=Object(r.useContext)(v).favourites,t=Object(r.useContext)(y).cartItems,c=Object(o.n)().pathname.split("/").pop(),s=["phones","tablets","accessories","favourites"].includes(c||""),n=t.reduce((function(e,t){return e+t.quantity}),0);return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsxs)("div",{className:"header__content header__content--left",children:[Object(h.jsx)(a.b,{to:"/#",className:"logo",children:Object(h.jsx)("img",{src:"icons/logo.svg",alt:"logo"})}),Object(h.jsxs)("nav",{className:"header__nav",children:[Object(h.jsx)(w,{to:"/#",text:"Home"}),Object(h.jsx)(w,{to:"phones",text:"Phones"}),Object(h.jsx)(w,{to:"tablets",text:"Tablets"}),Object(h.jsx)(w,{to:"accessories",text:"Accessories"})]})]}),Object(h.jsxs)("div",{className:"header__content header__content--right",children:[s&&Object(h.jsx)(_,{}),Object(h.jsxs)(a.c,{to:"/favourites",className:function(e){var t=e.isActive;return u()("header__link",{"header__link--active":t})},children:[Object(h.jsx)("img",{className:"icon icon--favourites",src:"icons/favourites.svg",alt:""}),e.length>0&&Object(h.jsx)("div",{className:"header__icon-count",children:e.length})]}),Object(h.jsxs)(a.c,{to:"/cart",className:function(e){var t=e.isActive;return u()("header__link",{"header__link--active":t})},children:[Object(h.jsx)("img",{className:"icon icon--cart",src:"icons/cart.svg",alt:"shopping cart"}),t.length>0&&Object(h.jsx)("div",{className:"header__icon-count",children:n})]})]})]})}),q=c(8),S=c(6),A=c.n(S),E=(c(51),function(){return Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)("div",{className:"loader__content"})})}),F=c.p+"static/media/banner-phones.b4eeda8b.png",I=c.p+"static/media/banner-tablets.a962057c.png",P=c.p+"static/media/banner-accessories.bdd2e0fc.png",T=(c(52),[F,I,P]),R=function(){var e=Object(r.useState)(0),t=Object(d.a)(e,2),c=t[0],s=t[1];Object(r.useEffect)((function(){c<0&&s(T.length-1),c>T.length-1&&s(0)}),[c]),Object(r.useEffect)((function(){var e=setInterval((function(){return s((function(e){return e+1}))}),5e3);return function(){return clearInterval(e)}}),[c]);return Object(h.jsxs)("section",{className:"page__section banner-slider",children:[Object(h.jsxs)("div",{className:"banner-slider__container",children:[Object(h.jsx)("div",{className:"banner-slider__img-container",children:T.map((function(e,t){return Object(h.jsx)("img",{src:e,alt:"banner",className:u()("banner-slider__img",{"banner-slider__img--active":c===t})},e)}))}),Object(h.jsx)("button",{type:"button",className:"banner-slider__button banner-slider__prev-button",onClick:function(){return s((function(e){return e-1}))},children:Object(h.jsx)("img",{src:"icons/leftArrow.svg",alt:"previous banner"})}),Object(h.jsx)("button",{type:"button",className:"banner-slider__button banner-slider__next-button",onClick:function(){return s((function(e){return e+1}))},children:Object(h.jsx)("img",{src:"icons/rightArrow.svg",alt:"next banner"})})]}),Object(h.jsx)("div",{className:"banner-slider__dots-container",children:T.map((function(e,t){return Object(h.jsx)("button",{type:"button","aria-label":"dot button",className:u()("banner-slider__dot-button",{"banner-slider__dot-button--active":c===t}),onClick:function(){return s(t)}},e)}))})]})},L=function(e){switch(e.type){case"phone":return"phones/".concat(e.id);case"tablet":return"tablets/".concat(e.id);case"accessory":return"accessories/".concat(e.id);default:return"*"}},M=(c(53),function(e){var t=e%4,c=6*t+6;return"".concat(6*t+1,"-").concat(c)}),$=function(e){return Math.round(e.price*(1-.01*e.discount))},B=function(e){var t=e.product,c=e.index,s=t.id,n=t.imageUrl,i=t.name,o=t.snippet,l=t.price,d=t.discount,j=t.screen,b=t.capacity,p=t.ram,m=Object(r.useContext)(v),O=m.favourites,_=m.addToFav,x=m.removeFromFav,f=O.find((function(e){return e.id===s})),g=Object(r.useContext)(y),N=g.cartItems,k=g.addToCart,w=g.removeFromCart,C=N.find((function(e){return e.id===s})),q=$(t);return Object(h.jsxs)("div",{className:"product-card grid__item grid__item--desktop-".concat(M(c)),"data-cy":"cardsContainer",children:[Object(h.jsxs)(a.b,{to:"/".concat(L(t)),className:"product-card__link",children:[Object(h.jsx)("div",{className:"product-card__image-container",children:Object(h.jsx)("img",{className:"product-card__image",src:n,alt:o})}),Object(h.jsx)("div",{className:"product-card__title",children:i})]}),Object(h.jsx)("div",{className:"product-card__price-container",children:d?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"product-card__price",children:"$".concat(q)}),Object(h.jsx)("div",{className:"product-card__price product-card__price--crossed-out",children:"$".concat(l)})]}):Object(h.jsx)("div",{className:"product-card__price",children:"$".concat(l)})}),Object(h.jsxs)("div",{className:"product-card__spec",children:[Object(h.jsxs)("ul",{className:"product-card__spec-list",children:[Object(h.jsx)("li",{className:"product-card__spec-name",children:"Screen"}),Object(h.jsx)("li",{className:"product-card__spec-name",children:"Capacity"}),Object(h.jsx)("li",{className:"product-card__spec-name",children:"RAM"})]}),Object(h.jsxs)("ul",{className:"product-card__spec-list",children:[Object(h.jsx)("li",{className:"product-card__spec-value",children:j}),Object(h.jsx)("li",{className:"product-card__spec-value",children:b}),Object(h.jsx)("li",{className:"product-card__spec-value",children:p})]})]}),Object(h.jsxs)("div",{className:"product-card__actions",children:[Object(h.jsx)("button",{type:"button",className:u()("product-card__add-to-cart",{"product-card__add-to-cart--active":C}),onClick:function(){C?w(s):k(t)},children:C?"Added to cart":"Add to cart"}),Object(h.jsx)("div",{className:"product-card__button-container",children:Object(h.jsx)("button",{type:"button",className:u()("product-card__add-to-fav square-button square-button--medium",{"square-button--active product-card__add-to-fav--active":f}),onClick:function(){f?x(s):_(t)},"aria-label":"add to favourites","data-cy":"addToFavorite"})})]})]})},H=(c(54),function(e){var t=e.products,c=e.title,s=Object(r.useState)(0),n=Object(d.a)(s,2),a=n[0],i=n[1],o=a+4;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"slider__header",children:[Object(h.jsx)("h1",{className:"slider__title",children:c}),Object(h.jsxs)("div",{className:"slider__button-group",children:[Object(h.jsx)("button",{type:"button",className:u()("slider__button square-button",{"square-button--disabled":0===a}),onClick:function(){return i((function(e){return e-1}))},children:Object(h.jsx)("img",{src:"icons/leftArrow.svg",alt:"next button"})}),Object(h.jsx)("button",{type:"button",className:u()("slider__button square-button",{"square-button--disabled":o===t.length}),onClick:function(){return i((function(e){return e+1}))},children:Object(h.jsx)("img",{src:"icons/rightArrow.svg",alt:"previous button"})})]})]}),Object(h.jsx)("div",{className:"slider__content",children:Object(h.jsx)("ul",{className:"grid","data-cy":"cardsContainer",children:t.slice(a,o).map((function(e,t){return Object(h.jsx)(B,{product:e,index:t},e.id)}))})})]})}),V=function(e){var t=function(e){return Object(x.a)(e).filter((function(e){return e.discount})).sort((function(e,t){return t.price*t.discount-e.price*e.discount}))}(e.products);return Object(h.jsx)("section",{className:"page__section slider",children:Object(h.jsx)(H,{products:t,title:"Hot prices"})})},Q=(c(55),function(e){var t=e.products,c=function(e){return Object(x.a)(e).filter((function(e){return"accessory"===e.type})).length}(t),s=function(e){return Object(x.a)(e).filter((function(e){return"phone"===e.type})).length}(t),n=function(e){return Object(x.a)(e).filter((function(e){return"tablet"===e.type})).length}(t);return Object(h.jsxs)("section",{className:"page__section shop-by-category",children:[Object(h.jsx)("h1",{className:"shop-by-category__title",children:"Shop by category"}),Object(h.jsxs)("div",{className:"shop-by-category__container","data-cy":"categoryLinksContainer",children:[Object(h.jsxs)("div",{className:"shop-by-category__card",children:[Object(h.jsx)(a.b,{to:"phones",className:"shop-by-category__img-link shop-by-category__img-phones"}),Object(h.jsx)(a.b,{to:"phones",className:"shop-by-category__subtitle-link",children:Object(h.jsx)("h3",{className:"shop-by-category__subtitle",children:"Mobile phones"})}),Object(h.jsx)("span",{className:"shop-by-category__qty",children:"".concat(s," models")})]}),Object(h.jsxs)("div",{className:"shop-by-category__card",children:[Object(h.jsx)(a.b,{to:"tablets",className:"shop-by-category__img-link shop-by-category__img-tablets"}),Object(h.jsx)(a.b,{to:"tablets",className:"shop-by-category__subtitle-link",children:Object(h.jsx)("h3",{className:"shop-by-category__subtitle",children:"Tablets"})}),Object(h.jsx)("span",{className:"shop-by-category__qty",children:"".concat(n," models")})]}),Object(h.jsxs)("div",{className:"shop-by-category__card",children:[Object(h.jsx)(a.b,{to:"accessories",className:"shop-by-category__img-link shop-by-category__img-accessories"}),Object(h.jsx)(a.b,{to:"accessories",className:"shop-by-category__subtitle-link",children:Object(h.jsx)("h3",{className:"shop-by-category__subtitle",children:"Accessories"})}),Object(h.jsx)("span",{className:"shop-by-category__qty",children:"".concat(c," models")})]})]})]})}),U=function(e){var t=function(e){return Object(x.a)(e).filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}))}(e.products);return Object(h.jsx)("section",{className:"page__section slider",children:Object(h.jsx)(H,{products:t,title:"Brand new models"})})};var D,J=function(e){var t,c="https://mate-academy.github.io/react_phone-catalog/api/products"+e+".json";return(t=300,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch(c)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))},z=function(){return J("")},G=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(r.useState)([]),a=Object(d.a)(n,2),i=a[0],o=a[1],l=function(){var e=Object(q.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,z();case 4:t=e.sent,o(t),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error("Loading Error");case 11:return e.prev=11,s(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){l()}),[]),Object(h.jsx)(h.Fragment,{children:c?Object(h.jsx)(E,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(R,{}),Object(h.jsx)(V,{products:i}),Object(h.jsx)(Q,{products:i}),Object(h.jsx)(U,{products:i})]})})},K=(c(56),function(){return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsxs)("div",{className:"footer__container",children:[Object(h.jsx)(a.b,{to:"/#",className:"logo",children:Object(h.jsx)("img",{src:"icons/logo.svg",alt:"logo"})}),Object(h.jsxs)("nav",{className:"footer__nav",children:[Object(h.jsx)(a.b,{to:"https://github.com/ifuride",className:"footer__navlink",children:"Github"}),Object(h.jsx)(a.b,{to:"https://github.com/ifuride",className:"footer__navlink",children:"Contacts"}),Object(h.jsx)(a.b,{to:"https://github.com/ifuride",className:"footer__navlink",children:"Rights"})]}),Object(h.jsx)("button",{type:"button",className:"footer__button square-button",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(h.jsx)("img",{src:"icons/topArrow.svg",className:"footer__top",alt:"back to top"})})]})})}),W=(c(57),function(){var e=Object(o.p)();return Object(h.jsxs)("div",{className:"page-not-found",children:[Object(h.jsx)("h1",{className:"page-not-found__title",children:"Page not found"}),Object(h.jsx)("button",{type:"button",className:"no-results__button rectangular-button",onClick:function(){return e("/")},children:"Visit Home page"})]})}),Y=function(){var e=Object(o.p)();return Object(h.jsxs)("div",{className:"no-results",children:[Object(h.jsx)("h2",{className:"no-results__title",children:"No matches were found. Please try again or go to the Home page."}),Object(h.jsx)("button",{type:"button",className:"no-results__button rectangular-button",onClick:function(){return e("/")},children:"Visit Home page"})]})},X=function(e){var t=e.products,c=Object(a.d)(),s=function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}(t,Object(d.a)(c,1)[0].get("query")||"");return Object(h.jsxs)("section",{className:"products-list__container",children:[Object(h.jsxs)("div",{className:"products-list__header",children:[Object(h.jsx)("h1",{className:"products-list__title",children:"Search result"}),Object(h.jsx)("span",{className:"products-list__qty",children:"".concat(s.length," results")})]}),s.length>0?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"products-list__main-content","data-cy":"productList",children:Object(h.jsx)("ul",{className:"grid","data-cy":"cardsContainer",children:s.map((function(e,t){return Object(h.jsx)(B,{product:e,index:t},e.id)}))})})}):Object(h.jsx)(Y,{})]})},Z=c(10),ee=(c(58),function(e){var t=e.title,c=e.options,s=e.initialValue,n=e.searchParamsKey,i=Object(r.useState)(!1),o=Object(d.a)(i,2),l=o[0],j=o[1],b=Object(a.d)(),p=Object(d.a)(b,1)[0],O=Object(r.useRef)(null),_=function(){j((function(e){return!e}))};return Object(r.useEffect)((function(){var e=function(e){O.current&&!O.current.contains(e.target)&&j(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),Object(h.jsxs)("div",{className:"dropdown-menu",ref:O,children:[Object(h.jsx)("span",{className:"dropdown-menu__title",children:t}),Object(h.jsxs)("button",{type:"button",className:u()("dropdown-menu__button",{"dropdown-menu__button--active":l}),onClick:_,children:[s,l?Object(h.jsx)("img",{src:"icons/topArrowLight.svg",alt:"collapse dropdown menu"}):Object(h.jsx)("img",{src:"icons/bottomArrow.svg",alt:"expand dropdown menu"})]}),l&&Object(h.jsx)("ul",{className:"dropdown-menu__list",children:c.map((function(e){var t,c=e.name,s=e.value;return Object(h.jsx)("li",{role:"presentation",className:"dropdown-menu__item",onClick:_,children:Object(h.jsx)(a.b,{to:{search:m(p,(t={},Object(Z.a)(t,n,s),Object(Z.a)(t,"page","1"),t))},className:"dropdown-menu__item-link",children:c})},s)}))})]})}),te=(c(59),function(e){var t=e.currentPage,c=e.pageQty,s=Object(a.d)(""),n=Object(d.a)(s,1)[0];return Object(h.jsxs)("ul",{className:"pagination","data-cy":"pagination",children:[Object(h.jsx)("li",{className:"pagination__item",children:Object(h.jsx)(a.b,{to:{search:m(n,{page:(t-1).toString()})},className:u()("pagination__nav-button square-button",{"square-button--disabled":1===t}),"data-cy":"paginationLeft",children:Object(h.jsx)("img",{src:"icons/leftArrow.svg",alt:"previous button"})})}),c.map((function(e){return Object(h.jsx)("li",{className:"pagination__item",children:Object(h.jsx)(a.b,{to:{search:m(n,{page:e.toString()})},className:u()("pagination__page-button square-button",{"square-button--selected":e===t}),children:e})},e)})),Object(h.jsx)("li",{className:"pagination__item",children:Object(h.jsx)(a.b,{to:{search:m(n,{page:(t+1).toString()})},className:u()("pagination__nav-button square-button",{"square-button--disabled":t===c.length}),"data-cy":"paginationRight",children:Object(h.jsx)("img",{src:"icons/rightArrow.svg",alt:"next button"})})})]})});!function(e){e.AGE="age",e.NAME="name",e.PRICE="price"}(D||(D={}));c(60);var ce=function(e){var t=e.title,c=Object(o.p)();return Object(h.jsxs)("div",{className:"no-results",children:[Object(h.jsx)("h2",{className:"no-results__title",children:"".concat(t," not found")}),Object(h.jsx)("button",{type:"button",className:"no-results__button rectangular-button",onClick:function(){return c("/")},children:"Visit Home page"})]})},se=(c(61),function(){var e=Object(o.n)().pathname.slice(1).split("/");return Object(h.jsxs)("div",{className:"breadcrumbs","data-cy":"breadCrumbs",children:[Object(h.jsx)(a.b,{className:"breadcrumbs__homelink",to:"/",children:Object(h.jsx)("img",{src:"icons/home.svg",alt:"link to home page"})}),e.map((function(e){return Object(h.jsxs)(a.c,{className:"breadcrumbs__page-name",to:"/".concat(e),children:[Object(h.jsx)("img",{className:"breadcrumbs__arrow",src:"icons/rightArrow.svg",alt:"arrow icon"}),(t=e,t.split("-").join(" "))]},e);var t}))]})}),ne=(c(62),[{name:"Newest",value:"age"},{name:"Alphabetically",value:"name"},{name:"Cheapest",value:"price"}]),ae=[{name:"4",value:"4"},{name:"8",value:"8"},{name:"16",value:"16"},{name:"All",value:"all"}],re=function(e,t){var c=t.find((function(t){return t.value===e}));return c?c.name:""},ie=function(e){var t=e.products,c=e.title,s=Object(a.d)(),n=Object(d.a)(s,1)[0],r=n.get("sort")||ne[0].value,i=n.get("perPage")||ae[2].value,l=Number(n.get("page")||"1"),u=t.length,j=function(e,t){for(var c=[],s=e;s<=t;s+=1)c.push(s);return c}(1,Math.ceil(u/+i)),b=function(e,t,c,s){var n=Object(x.a)(e),a=e.length;if(n.sort((function(e,c){switch(t){case D.AGE:return e.age-c.age;case D.PRICE:return e.price*(1-.01*e.discount)-c.price*(1-.01*c.discount);case D.NAME:return e.name.localeCompare(c.name);default:throw new Error("Unable to sort")}})),"all"===c)return n;var r=s*+c,i=r-+c,o=r<=a?r:a;return n.slice(i,o)}(t,r,i,l),p=Object(o.n)().pathname.split("/").pop(),m=["phones","tablets","accessories"].includes(p||"");return Object(h.jsxs)("section",{className:"products-list__container",children:[Object(h.jsx)(se,{}),Object(h.jsxs)("div",{className:"products-list__header",children:[Object(h.jsx)("h1",{className:"products-list__title",children:c}),Object(h.jsx)("span",{className:"products-list__qty",children:"".concat(t.length," models")})]}),u>0?Object(h.jsxs)(h.Fragment,{children:[m&&Object(h.jsxs)("div",{className:"products-list__filters",children:[Object(h.jsx)("div",{className:"products-list__drop-down-container",children:Object(h.jsx)(ee,{title:"Sort by",options:ne,initialValue:re(r,ne)||"Newest",searchParamsKey:"sort"})}),Object(h.jsx)("div",{className:"products-list__drop-down-container",children:Object(h.jsx)(ee,{title:"Items on page",options:ae,initialValue:re(i,ae)||"16",searchParamsKey:"perPage"})})]}),Object(h.jsx)("div",{className:"products-list__main-content",children:Object(h.jsx)("ul",{className:"grid","data-cy":"productList",children:b.map((function(e,t){return Object(h.jsx)(B,{product:e,index:t},e.id)}))})}),j.length>1&&Object(h.jsx)(te,{currentPage:l,pageQty:j})]}):Object(h.jsx)(ce,{title:c})]})},oe=function(e){return Object(x.a)(e).filter((function(e){return"phone"===e.type}))},le=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(r.useState)([]),i=Object(d.a)(n,2),o=i[0],l=i[1],u=Object(a.d)(),j=Object(d.a)(u,1)[0].get("query")||"",b=function(){var e=Object(q.a)(A.a.mark((function e(){var t,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,z();case 4:t=e.sent,c=oe(t),l(c),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("Loading Error");case 12:return e.prev=12,s(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){b()}),[]),Object(h.jsx)(h.Fragment,{children:c?Object(h.jsx)(E,{}):Object(h.jsx)(h.Fragment,{children:j?Object(h.jsx)(X,{products:o}):Object(h.jsx)(ie,{products:o,title:"Mobile phones"})})})},ue=function(e){return Object(x.a)(e).filter((function(e){return"tablet"===e.type}))},de=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(r.useState)([]),i=Object(d.a)(n,2),o=i[0],l=i[1],u=Object(a.d)(),j=Object(d.a)(u,1)[0].get("query")||"",b=function(){var e=Object(q.a)(A.a.mark((function e(){var t,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,z();case 4:t=e.sent,c=ue(t),l(c),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("Loading Error");case 12:return e.prev=12,s(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){b()}),[]),Object(h.jsx)(h.Fragment,{children:c?Object(h.jsx)(E,{}):Object(h.jsx)(h.Fragment,{children:j?Object(h.jsx)(X,{products:o}):Object(h.jsx)(ie,{products:o,title:"Tablets"})})})},je=function(e){return Object(x.a)(e).filter((function(e){return"accessory"===e.type}))},be=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(r.useState)([]),i=Object(d.a)(n,2),o=i[0],l=i[1],u=Object(a.d)(),j=Object(d.a)(u,1)[0].get("query")||"",b=function(){var e=Object(q.a)(A.a.mark((function e(){var t,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,z();case 4:t=e.sent,c=je(t),l(c),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("Loading Error");case 12:return e.prev=12,s(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){b()}),[]),Object(h.jsx)(h.Fragment,{children:c?Object(h.jsx)(E,{}):Object(h.jsx)(h.Fragment,{children:j?Object(h.jsx)(X,{products:o}):Object(h.jsx)(ie,{products:o,title:"Accessories"})})})},pe=(c(63),function(){var e=Object(o.p)();return Object(h.jsx)("button",{"data-cy":"backButton",type:"button",className:"back-button",onClick:function(){return e(-1)},children:"Back"})}),me=(c(64),function(e){var t=e.details,c=e.product,s=t.name,n=t.images,a=t.display,i=t.storage,o=t.hardware,l=t.description,j=t.battery,b=t.camera,p=t.sizeAndWeight,m=c.price,O=c.discount,_=Object(r.useState)(n[0]),x=Object(d.a)(_,2),f=x[0],g=x[1];Object(r.useEffect)((function(){g(n[0])}),[n[0]]);var N=Object(r.useContext)(y),k=N.cartItems,w=N.addToCart,C=N.removeFromCart,q=k.find((function(e){return e.product.id===c.id})),S=Object(r.useContext)(v),A=S.favourites,E=S.addToFav,F=S.removeFromFav,I=A.find((function(e){return e.id===c.id})),P=$(c);return Object(h.jsxs)("section",{className:"page__section product-details",children:[Object(h.jsx)("h1",{className:"product-details__title",children:s}),Object(h.jsxs)("div",{className:"product-details__content",children:[Object(h.jsxs)("div",{className:"grid product-details__top",children:[Object(h.jsx)("div",{className:"product-details__image-selector grid__item--desktop-1-2",children:n.map((function(e){return Object(h.jsx)("button",{type:"button",className:u()("product-details__image-button",{"product-details__image-button--selected":e===f}),style:{backgroundImage:"url(".concat(e,")")},onClick:function(){return g(e)}},e)}))}),Object(h.jsx)("div",{className:"product-details__image-main grid__item--desktop-3-12",style:{backgroundImage:"url(".concat(f,")")}}),Object(h.jsxs)("div",{className:"product-details__main-info grid__item--desktop-14-20",children:[Object(h.jsx)("div",{className:"product-details__price-container",children:O?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"product-details__price",children:"$".concat(P)}),Object(h.jsx)("div",{className:"product-details__price product-details__price--crossed-out",children:"$".concat(m)})]}):Object(h.jsx)("div",{className:"product-details__price",children:"$".concat(m)})}),Object(h.jsxs)("div",{className:"product-details__actions",children:[Object(h.jsx)("button",{type:"button",className:u()("product-details__add-to-cart",{"product-details__add-to-cart--active":q}),onClick:function(){q?C(c.id):w(c)},children:q?"Added to cart":"Add to cart"}),Object(h.jsx)("div",{className:"product-details__button-container",children:Object(h.jsx)("button",{type:"button",className:u()("product-details__add-to-fav square-button square-button--large",{"square-button--active product-details__add-to-fav--active":I}),onClick:function(){I?F(c.id):E(c)},"aria-label":"like button","data-cy":"addToFavorite"})})]}),Object(h.jsxs)("div",{className:"product-details__spec",children:[Object(h.jsxs)("ul",{className:"product-details__spec-list",children:[Object(h.jsx)("li",{className:"product-details__spec-name",children:"Screen"}),Object(h.jsx)("li",{className:"product-details__spec-name",children:"Resolution"}),Object(h.jsx)("li",{className:"product-details__spec-name",children:"Processor"}),Object(h.jsx)("li",{className:"product-details__spec-name",children:"RAM"})]}),Object(h.jsxs)("ul",{className:"product-details__spec-list",children:[Object(h.jsx)("li",{className:"product-details__spec-value",children:a.screenSize||"No data"}),Object(h.jsx)("li",{className:"product-details__spec-value",children:a.screenResolution||"No data"}),Object(h.jsx)("li",{className:"product-details__spec-value",children:o.cpu||"No data"}),Object(h.jsx)("li",{className:"product-details__spec-value",children:i.ram||"No data"})]})]})]})]}),Object(h.jsxs)("div",{className:"grid product-details__bottom",children:[Object(h.jsxs)("div",{className:"product-details__about grid__item--desktop-1-12","data-cy":"productDescription",children:[Object(h.jsx)("h2",{className:"product-details__subtitle",children:"About"}),Object(h.jsx)("div",{className:"product-details__description",children:l})]}),Object(h.jsxs)("div",{className:"product-details__tech-specs  grid__item--desktop-14-24",children:[Object(h.jsx)("h2",{className:"product-details__subtitle",children:"Tech specs"}),Object(h.jsxs)("div",{className:"product-details__spec",children:[Object(h.jsxs)("ul",{className:"product-details__spec-list product-details__spec-list--detailed",children:[Object(h.jsx)("li",{className:"product-details__spec-name",children:"Screen"}),Object(h.jsx)("li",{className:"product-details__spec-name",children:"Resolution"}),Object(h.jsx)("li",{className:"product-details__spec-name",children:"Processor"}),Object(h.jsx)("li",{className:"product-details__spec-name",children:"RAM"}),Object(h.jsx)("li",{className:"product-details__spec-name",children:"Battery"}),Object(h.jsx)("li",{className:"product-details__spec-name",children:"Camera"}),Object(h.jsx)("li",{className:"product-details__spec-name",children:"Dimensions"}),Object(h.jsx)("li",{className:"product-details__spec-name",children:"Weight"})]}),Object(h.jsxs)("ul",{className:"product-details__spec-list product-details__spec-list--detailed",children:[Object(h.jsx)("li",{className:"product-details__spec-value",children:a.screenSize||"No data"}),Object(h.jsx)("li",{className:"product-details__spec-value",children:a.screenResolution||"No data"}),Object(h.jsx)("li",{className:"product-details__spec-value",children:o.cpu||"No data"}),Object(h.jsx)("li",{className:"product-details__spec-value",children:i.ram||"No data"}),Object(h.jsx)("li",{className:"product-details__spec-value",children:j.type||"No data"}),Object(h.jsx)("li",{className:"product-details__spec-value",children:b.primary||"No data"}),Object(h.jsx)("li",{className:"product-details__spec-value",children:p.dimensions.join(", ")||"No data"}),Object(h.jsx)("li",{className:"product-details__spec-value",children:p.weight||"No data"})]})]})]})]})]})]})}),Oe=(c(65),function(){var e=Object(o.p)();return Object(h.jsxs)("div",{className:"product-not-found",children:[Object(h.jsx)("h1",{className:"product-not-found__title",children:"Unfortunately, the product was not found"}),Object(h.jsx)("button",{type:"button",className:"no-results__button rectangular-button",onClick:function(){return e("/")},children:"Visit Home page"})]})}),he=function(e){var t=function(e){for(var t=Object(x.a)(e),c=t.length-1;c>0;c-=1){var s=Math.floor(Math.random()*(c+1)),n=[t[s],t[c]];t[c]=n[0],t[s]=n[1]}return t}(e.products);return Object(h.jsx)("section",{className:"page__section slider",children:Object(h.jsx)(H,{products:t,title:"You may also like"})})},_e=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(r.useState)(null),a=Object(d.a)(n,2),i=a[0],l=a[1],u=Object(r.useState)(!1),j=Object(d.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)(!1),O=Object(d.a)(m,2),_=O[0],x=O[1],f=Object(o.r)().productId,v=function(){var e=Object(q.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,z();case 4:t=e.sent,s(t),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error("Loading Error");case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){v()}),[]);var g=function(){var e=Object(q.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,J("/".concat(f||""));case 4:t=e.sent,l(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),x(!0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){g()}),[f]);var N=Object(r.useMemo)((function(){return c.find((function(e){return e.id===f}))}),[c,f]);return Object(h.jsx)("section",{className:"product-details__container",children:_?Object(h.jsx)(Oe,{}):Object(h.jsxs)(h.Fragment,{children:[b&&Object(h.jsx)(E,{}),i&&N&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(se,{}),Object(h.jsx)(pe,{}),Object(h.jsx)(me,{details:i,product:N}),Object(h.jsx)(he,{products:c})]})]})})},xe=function(){var e=Object(r.useContext)(v).favourites,t=Object(a.d)(),c=Object(d.a)(t,1)[0].get("query")||"";return Object(h.jsx)(h.Fragment,{children:c?Object(h.jsx)(X,{products:e}):Object(h.jsx)(ie,{products:e,title:"Favourites"})})},fe=(c(66),function(e){var t=e.cartItem,c=t.id,s=t.product,n=t.quantity,i=Object(r.useContext)(y),o=i.removeFromCart,l=i.changeQuantity;return Object(h.jsxs)("div",{className:"cart-card__item",children:[Object(h.jsxs)("div",{className:"cart-card__box",children:[Object(h.jsx)("button",{type:"button",className:"cart-card__delete-button",onClick:function(){o(c)},"data-cy":"cartDeleteButton",children:Object(h.jsx)("img",{className:"cart-card__cross-image",src:"icons/cross.svg",alt:"remove"})}),Object(h.jsxs)(a.b,{to:"/".concat(L(s)),className:"cart-card__link",children:[Object(h.jsx)("img",{className:"cart-card__image",src:s.imageUrl,alt:"product"}),Object(h.jsx)("div",{className:"cart-card__name",children:s.name})]})]}),Object(h.jsxs)("div",{className:"cart-card__quantity-container",children:[Object(h.jsx)("button",{type:"button",className:u()("cart-card__button square-button",{"square-button--disabled":n<2}),onClick:function(){l(c,O.Remove)},children:Object(h.jsx)("img",{src:"icons/minus.svg",alt:"reduce quantity"})}),Object(h.jsx)("div",{className:"cart-card__quantity",children:n}),Object(h.jsx)("button",{type:"button",className:"cart-card__button square-button",onClick:function(){l(c,O.Add)},children:Object(h.jsx)("img",{src:"icons/plus.svg",alt:"increase quantity"})})]}),s.discount?Object(h.jsx)("div",{className:"cart-card__price",children:"$".concat($(s))}):Object(h.jsx)("div",{className:"cart-card__price",children:"$".concat(s.price)})]})}),ve=function(){var e=Object(r.useContext)(y).cartItems;return Object(h.jsx)("div",{className:"cart-list grid__item--desktop-1-16",children:e.map((function(e){return Object(h.jsx)(fe,{cartItem:e},e.id)}))})},ge=(c(67),function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(r.useContext)(y).cartItems,a=n.map((function(e){return Math.round(e.product.price*(1-.01*e.product.discount))*e.quantity})).reduce((function(e,t){return e+t}),0),i=n.reduce((function(e,t){return e+t.quantity}),0);return Object(h.jsxs)("div",{className:"grid__item--desktop-17-24",children:[Object(h.jsxs)("div",{className:"cart-info",children:[Object(h.jsxs)("div",{className:"cart-info__box",children:[Object(h.jsx)("div",{className:"cart-info__total-price",children:"$".concat(a)}),Object(h.jsx)("div",{className:"cart-info__total-quantity","data-cy":"productQauntity",children:"Total for ".concat(i," items")})]}),Object(h.jsx)("button",{className:"cart-info__button rectangular-button",type:"button",onClick:function(){s(!0),setTimeout((function(){s(!1)}),3e3)},children:"Checkout"})]}),c&&Object(h.jsx)("div",{className:"cart-info__warning",children:"We are sorry, but this feature is not implemented yet"})]})}),Ne=(c(68),function(){var e=Object(r.useContext)(y).cartItems;return Object(h.jsxs)("section",{className:"cart page__section",children:[Object(h.jsx)(pe,{}),Object(h.jsx)("h1",{className:"cart__title",children:"Cart"}),e.length>0?Object(h.jsxs)("div",{className:"cart__container grid",children:[Object(h.jsx)(ve,{}),Object(h.jsx)(ge,{})]}):Object(h.jsx)("h2",{className:"no-results__title",children:"Your cart is empty"})]})}),ye=function(){var e=Object(o.n)().pathname;return Object(r.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[e]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(k,{children:Object(h.jsxs)(g,{children:[Object(h.jsx)(C,{}),Object(h.jsx)("main",{className:"page",children:Object(h.jsx)("div",{className:"page__container",children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/",element:Object(h.jsx)(G,{})}),Object(h.jsx)(o.b,{path:"phones",element:Object(h.jsx)(le,{})}),Object(h.jsx)(o.b,{path:"phones/:productId",element:Object(h.jsx)(_e,{})}),Object(h.jsx)(o.b,{path:"tablets",element:Object(h.jsx)(de,{})}),Object(h.jsx)(o.b,{path:"tablets/:productId",element:Object(h.jsx)(_e,{})}),Object(h.jsx)(o.b,{path:"accessories",element:Object(h.jsx)(be,{})}),Object(h.jsx)(o.b,{path:"accessories/:ProductId",element:Object(h.jsx)(_e,{})}),Object(h.jsx)(o.b,{path:"favourites",element:Object(h.jsx)(xe,{})}),Object(h.jsx)(o.b,{path:"cart",element:Object(h.jsx)(Ne,{})}),Object(h.jsx)(o.b,{path:"*",element:Object(h.jsx)(W,{})}),Object(h.jsx)(o.b,{path:"home",element:Object(h.jsx)(o.a,{to:"/",replace:!0})})]})})})]})}),Object(h.jsx)(K,{})]})};c(69);n.a.render(Object(h.jsx)(a.a,{children:Object(h.jsx)(ye,{})}),document.getElementById("root"))}]),[[70,1,2]]]);
//# sourceMappingURL=main.f0e5d9dd.chunk.js.map